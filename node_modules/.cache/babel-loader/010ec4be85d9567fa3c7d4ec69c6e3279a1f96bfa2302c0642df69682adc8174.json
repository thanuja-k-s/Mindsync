{"ast":null,"code":"var _jsxFileName = \"D:\\\\MindSync\\\\src\\\\pages\\\\Journaling.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useRef } from 'react';\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Journaling = () => {\n  _s();\n  const [entry, setEntry] = useState('');\n  const [files, setFiles] = useState([]);\n  const [isRecording, setIsRecording] = useState(false);\n  const [transcription, setTranscription] = useState('');\n  const recognitionRef = useRef(null);\n  const handleFileUpload = e => {\n    setFiles([...files, ...Array.from(e.target.files)]);\n  };\n  const startRecording = () => {\n    if (!('webkitSpeechRecognition' in window)) {\n      alert('Speech recognition not supported');\n      return;\n    }\n    const recognition = new webkitSpeechRecognition();\n    recognition.continuous = false;\n    recognition.interimResults = false;\n    recognition.lang = 'en-US';\n    recognition.onstart = () => setIsRecording(true);\n    recognition.onresult = event => {\n      const transcript = event.results[0][0].transcript;\n      setTranscription(transcript);\n      setEntry(prev => prev + ' ' + transcript);\n    };\n    recognition.onend = () => setIsRecording(false);\n    recognitionRef.current = recognition;\n    recognition.start();\n  };\n  const stopRecording = () => {\n    if (recognitionRef.current) {\n      recognitionRef.current.stop();\n    }\n  };\n  const saveEntry = () => {\n    const user = localStorage.getItem('user');\n    if (!user) return;\n    const newEntry = {\n      id: Date.now(),\n      text: entry,\n      files: files.map(f => ({\n        name: f.name,\n        data: f\n      })),\n      date: new Date().toISOString(),\n      tags: generateTags(entry),\n      sentiment: analyzeSentiment(entry)\n    };\n\n    // Encrypt and store\n    const encrypted = CryptoJS.AES.encrypt(JSON.stringify(newEntry), 'secret-key').toString();\n    const entries = JSON.parse(localStorage.getItem(`${user}_entries`) || '[]');\n    entries.push(encrypted);\n    localStorage.setItem(`${user}_entries`, JSON.stringify(entries));\n\n    // Reset form\n    setEntry('');\n    setFiles([]);\n    setTranscription('');\n  };\n  const generateTags = text => {\n    // Mock keyword extraction\n    const words = text.toLowerCase().split(' ');\n    return words.filter(w => w.length > 3).slice(0, 5);\n  };\n  const analyzeSentiment = text => {\n    // Mock sentiment analysis\n    const positiveWords = ['happy', 'good', 'great', 'awesome'];\n    const negativeWords = ['sad', 'bad', 'terrible', 'awful'];\n    const words = text.toLowerCase().split(' ');\n    const positiveCount = words.filter(w => positiveWords.includes(w)).length;\n    const negativeCount = words.filter(w => negativeWords.includes(w)).length;\n    if (positiveCount > negativeCount) return 'positive';\n    if (negativeCount > positiveCount) return 'negative';\n    return 'neutral';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"journaling-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"New Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n      value: entry,\n      onChange: e => setEntry(e.target.value),\n      placeholder: \"Write your thoughts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"file\",\n        multiple: true,\n        onChange: handleFileUpload,\n        accept: \"image/*,video/*,.pdf,.doc,.docx\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), files.map((f, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n        children: f.name\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 30\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: isRecording ? stopRecording : startRecording,\n        children: isRecording ? 'Stop Recording' : 'Start Voice Recording'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), transcription && /*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"Transcription: \", transcription]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 27\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: saveEntry,\n      children: \"Save Entry\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n};\n_s(Journaling, \"hJCT/rSBaipTHEtWRiBWu+F7AeE=\");\n_c = Journaling;\nexport default Journaling;\nvar _c;\n$RefreshReg$(_c, \"Journaling\");","map":{"version":3,"names":["React","useState","useRef","CryptoJS","jsxDEV","_jsxDEV","Journaling","_s","entry","setEntry","files","setFiles","isRecording","setIsRecording","transcription","setTranscription","recognitionRef","handleFileUpload","e","Array","from","target","startRecording","window","alert","recognition","webkitSpeechRecognition","continuous","interimResults","lang","onstart","onresult","event","transcript","results","prev","onend","current","start","stopRecording","stop","saveEntry","user","localStorage","getItem","newEntry","id","Date","now","text","map","f","name","data","date","toISOString","tags","generateTags","sentiment","analyzeSentiment","encrypted","AES","encrypt","JSON","stringify","toString","entries","parse","push","setItem","words","toLowerCase","split","filter","w","length","slice","positiveWords","negativeWords","positiveCount","includes","negativeCount","className","children","fileName","_jsxFileName","lineNumber","columnNumber","value","onChange","placeholder","type","multiple","accept","i","onClick","_c","$RefreshReg$"],"sources":["D:/MindSync/src/pages/Journaling.js"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst Journaling = () => {\r\n  const [entry, setEntry] = useState('');\r\n  const [files, setFiles] = useState([]);\r\n  const [isRecording, setIsRecording] = useState(false);\r\n  const [transcription, setTranscription] = useState('');\r\n  const recognitionRef = useRef(null);\r\n\r\n  const handleFileUpload = (e) => {\r\n    setFiles([...files, ...Array.from(e.target.files)]);\r\n  };\r\n\r\n  const startRecording = () => {\r\n    if (!('webkitSpeechRecognition' in window)) {\r\n      alert('Speech recognition not supported');\r\n      return;\r\n    }\r\n    const recognition = new webkitSpeechRecognition();\r\n    recognition.continuous = false;\r\n    recognition.interimResults = false;\r\n    recognition.lang = 'en-US';\r\n\r\n    recognition.onstart = () => setIsRecording(true);\r\n    recognition.onresult = (event) => {\r\n      const transcript = event.results[0][0].transcript;\r\n      setTranscription(transcript);\r\n      setEntry(prev => prev + ' ' + transcript);\r\n    };\r\n    recognition.onend = () => setIsRecording(false);\r\n\r\n    recognitionRef.current = recognition;\r\n    recognition.start();\r\n  };\r\n\r\n  const stopRecording = () => {\r\n    if (recognitionRef.current) {\r\n      recognitionRef.current.stop();\r\n    }\r\n  };\r\n\r\n  const saveEntry = () => {\r\n    const user = localStorage.getItem('user');\r\n    if (!user) return;\r\n\r\n    const newEntry = {\r\n      id: Date.now(),\r\n      text: entry,\r\n      files: files.map(f => ({ name: f.name, data: f })),\r\n      date: new Date().toISOString(),\r\n      tags: generateTags(entry),\r\n      sentiment: analyzeSentiment(entry)\r\n    };\r\n\r\n    // Encrypt and store\r\n    const encrypted = CryptoJS.AES.encrypt(JSON.stringify(newEntry), 'secret-key').toString();\r\n    const entries = JSON.parse(localStorage.getItem(`${user}_entries`) || '[]');\r\n    entries.push(encrypted);\r\n    localStorage.setItem(`${user}_entries`, JSON.stringify(entries));\r\n\r\n    // Reset form\r\n    setEntry('');\r\n    setFiles([]);\r\n    setTranscription('');\r\n  };\r\n\r\n  const generateTags = (text) => {\r\n    // Mock keyword extraction\r\n    const words = text.toLowerCase().split(' ');\r\n    return words.filter(w => w.length > 3).slice(0, 5);\r\n  };\r\n\r\n  const analyzeSentiment = (text) => {\r\n    // Mock sentiment analysis\r\n    const positiveWords = ['happy', 'good', 'great', 'awesome'];\r\n    const negativeWords = ['sad', 'bad', 'terrible', 'awful'];\r\n    const words = text.toLowerCase().split(' ');\r\n    const positiveCount = words.filter(w => positiveWords.includes(w)).length;\r\n    const negativeCount = words.filter(w => negativeWords.includes(w)).length;\r\n    if (positiveCount > negativeCount) return 'positive';\r\n    if (negativeCount > positiveCount) return 'negative';\r\n    return 'neutral';\r\n  };\r\n\r\n  return (\r\n    <div className=\"journaling-container\">\r\n      <h2>New Entry</h2>\r\n      <textarea\r\n        value={entry}\r\n        onChange={(e) => setEntry(e.target.value)}\r\n        placeholder=\"Write your thoughts...\"\r\n      />\r\n      <div>\r\n        <input type=\"file\" multiple onChange={handleFileUpload} accept=\"image/*,video/*,.pdf,.doc,.docx\" />\r\n        {files.map((f, i) => <p key={i}>{f.name}</p>)}\r\n      </div>\r\n      <div>\r\n        <button onClick={isRecording ? stopRecording : startRecording}>\r\n          {isRecording ? 'Stop Recording' : 'Start Voice Recording'}\r\n        </button>\r\n        {transcription && <p>Transcription: {transcription}</p>}\r\n      </div>\r\n      <button onClick={saveEntry}>Save Entry</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Journaling;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAC/C,OAAOC,QAAQ,MAAM,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEjC,MAAMC,UAAU,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACvB,MAAM,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACS,KAAK,EAAEC,QAAQ,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACtC,MAAM,CAACW,WAAW,EAAEC,cAAc,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAM,CAACa,aAAa,EAAEC,gBAAgB,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EACtD,MAAMe,cAAc,GAAGd,MAAM,CAAC,IAAI,CAAC;EAEnC,MAAMe,gBAAgB,GAAIC,CAAC,IAAK;IAC9BP,QAAQ,CAAC,CAAC,GAAGD,KAAK,EAAE,GAAGS,KAAK,CAACC,IAAI,CAACF,CAAC,CAACG,MAAM,CAACX,KAAK,CAAC,CAAC,CAAC;EACrD,CAAC;EAED,MAAMY,cAAc,GAAGA,CAAA,KAAM;IAC3B,IAAI,EAAE,yBAAyB,IAAIC,MAAM,CAAC,EAAE;MAC1CC,KAAK,CAAC,kCAAkC,CAAC;MACzC;IACF;IACA,MAAMC,WAAW,GAAG,IAAIC,uBAAuB,CAAC,CAAC;IACjDD,WAAW,CAACE,UAAU,GAAG,KAAK;IAC9BF,WAAW,CAACG,cAAc,GAAG,KAAK;IAClCH,WAAW,CAACI,IAAI,GAAG,OAAO;IAE1BJ,WAAW,CAACK,OAAO,GAAG,MAAMjB,cAAc,CAAC,IAAI,CAAC;IAChDY,WAAW,CAACM,QAAQ,GAAIC,KAAK,IAAK;MAChC,MAAMC,UAAU,GAAGD,KAAK,CAACE,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAACD,UAAU;MACjDlB,gBAAgB,CAACkB,UAAU,CAAC;MAC5BxB,QAAQ,CAAC0B,IAAI,IAAIA,IAAI,GAAG,GAAG,GAAGF,UAAU,CAAC;IAC3C,CAAC;IACDR,WAAW,CAACW,KAAK,GAAG,MAAMvB,cAAc,CAAC,KAAK,CAAC;IAE/CG,cAAc,CAACqB,OAAO,GAAGZ,WAAW;IACpCA,WAAW,CAACa,KAAK,CAAC,CAAC;EACrB,CAAC;EAED,MAAMC,aAAa,GAAGA,CAAA,KAAM;IAC1B,IAAIvB,cAAc,CAACqB,OAAO,EAAE;MAC1BrB,cAAc,CAACqB,OAAO,CAACG,IAAI,CAAC,CAAC;IAC/B;EACF,CAAC;EAED,MAAMC,SAAS,GAAGA,CAAA,KAAM;IACtB,MAAMC,IAAI,GAAGC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAC;IACzC,IAAI,CAACF,IAAI,EAAE;IAEX,MAAMG,QAAQ,GAAG;MACfC,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;MACdC,IAAI,EAAEzC,KAAK;MACXE,KAAK,EAAEA,KAAK,CAACwC,GAAG,CAACC,CAAC,KAAK;QAAEC,IAAI,EAAED,CAAC,CAACC,IAAI;QAAEC,IAAI,EAAEF;MAAE,CAAC,CAAC,CAAC;MAClDG,IAAI,EAAE,IAAIP,IAAI,CAAC,CAAC,CAACQ,WAAW,CAAC,CAAC;MAC9BC,IAAI,EAAEC,YAAY,CAACjD,KAAK,CAAC;MACzBkD,SAAS,EAAEC,gBAAgB,CAACnD,KAAK;IACnC,CAAC;;IAED;IACA,MAAMoD,SAAS,GAAGzD,QAAQ,CAAC0D,GAAG,CAACC,OAAO,CAACC,IAAI,CAACC,SAAS,CAACnB,QAAQ,CAAC,EAAE,YAAY,CAAC,CAACoB,QAAQ,CAAC,CAAC;IACzF,MAAMC,OAAO,GAAGH,IAAI,CAACI,KAAK,CAACxB,YAAY,CAACC,OAAO,CAAC,GAAGF,IAAI,UAAU,CAAC,IAAI,IAAI,CAAC;IAC3EwB,OAAO,CAACE,IAAI,CAACR,SAAS,CAAC;IACvBjB,YAAY,CAAC0B,OAAO,CAAC,GAAG3B,IAAI,UAAU,EAAEqB,IAAI,CAACC,SAAS,CAACE,OAAO,CAAC,CAAC;;IAEhE;IACAzD,QAAQ,CAAC,EAAE,CAAC;IACZE,QAAQ,CAAC,EAAE,CAAC;IACZI,gBAAgB,CAAC,EAAE,CAAC;EACtB,CAAC;EAED,MAAM0C,YAAY,GAAIR,IAAI,IAAK;IAC7B;IACA,MAAMqB,KAAK,GAAGrB,IAAI,CAACsB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IAC3C,OAAOF,KAAK,CAACG,MAAM,CAACC,CAAC,IAAIA,CAAC,CAACC,MAAM,GAAG,CAAC,CAAC,CAACC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;EACpD,CAAC;EAED,MAAMjB,gBAAgB,GAAIV,IAAI,IAAK;IACjC;IACA,MAAM4B,aAAa,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,OAAO,EAAE,SAAS,CAAC;IAC3D,MAAMC,aAAa,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,UAAU,EAAE,OAAO,CAAC;IACzD,MAAMR,KAAK,GAAGrB,IAAI,CAACsB,WAAW,CAAC,CAAC,CAACC,KAAK,CAAC,GAAG,CAAC;IAC3C,MAAMO,aAAa,GAAGT,KAAK,CAACG,MAAM,CAACC,CAAC,IAAIG,aAAa,CAACG,QAAQ,CAACN,CAAC,CAAC,CAAC,CAACC,MAAM;IACzE,MAAMM,aAAa,GAAGX,KAAK,CAACG,MAAM,CAACC,CAAC,IAAII,aAAa,CAACE,QAAQ,CAACN,CAAC,CAAC,CAAC,CAACC,MAAM;IACzE,IAAII,aAAa,GAAGE,aAAa,EAAE,OAAO,UAAU;IACpD,IAAIA,aAAa,GAAGF,aAAa,EAAE,OAAO,UAAU;IACpD,OAAO,SAAS;EAClB,CAAC;EAED,oBACE1E,OAAA;IAAK6E,SAAS,EAAC,sBAAsB;IAAAC,QAAA,gBACnC9E,OAAA;MAAA8E,QAAA,EAAI;IAAS;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAClBlF,OAAA;MACEmF,KAAK,EAAEhF,KAAM;MACbiF,QAAQ,EAAGvE,CAAC,IAAKT,QAAQ,CAACS,CAAC,CAACG,MAAM,CAACmE,KAAK,CAAE;MAC1CE,WAAW,EAAC;IAAwB;MAAAN,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrC,CAAC,eACFlF,OAAA;MAAA8E,QAAA,gBACE9E,OAAA;QAAOsF,IAAI,EAAC,MAAM;QAACC,QAAQ;QAACH,QAAQ,EAAExE,gBAAiB;QAAC4E,MAAM,EAAC;MAAiC;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAClG7E,KAAK,CAACwC,GAAG,CAAC,CAACC,CAAC,EAAE2C,CAAC,kBAAKzF,OAAA;QAAA8E,QAAA,EAAYhC,CAAC,CAACC;MAAI,GAAV0C,CAAC;QAAAV,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAa,CAAC,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC1C,CAAC,eACNlF,OAAA;MAAA8E,QAAA,gBACE9E,OAAA;QAAQ0F,OAAO,EAAEnF,WAAW,GAAG2B,aAAa,GAAGjB,cAAe;QAAA6D,QAAA,EAC3DvE,WAAW,GAAG,gBAAgB,GAAG;MAAuB;QAAAwE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACnD,CAAC,EACRzE,aAAa,iBAAIT,OAAA;QAAA8E,QAAA,GAAG,iBAAe,EAACrE,aAAa;MAAA;QAAAsE,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACpD,CAAC,eACNlF,OAAA;MAAQ0F,OAAO,EAAEtD,SAAU;MAAA0C,QAAA,EAAC;IAAU;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC5C,CAAC;AAEV,CAAC;AAAChF,EAAA,CAvGID,UAAU;AAAA0F,EAAA,GAAV1F,UAAU;AAyGhB,eAAeA,UAAU;AAAC,IAAA0F,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}