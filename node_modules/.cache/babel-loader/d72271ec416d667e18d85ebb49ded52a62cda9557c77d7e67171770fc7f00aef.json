{"ast":null,"code":"var _jsxFileName = \"D:\\\\MindSync\\\\src\\\\pages\\\\Insights.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Bar } from 'react-chartjs-2';\nimport CryptoJS from 'crypto-js';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Insights = () => {\n  _s();\n  const [entries, setEntries] = useState([]);\n  const [moodData, setMoodData] = useState({});\n  const [summary, setSummary] = useState('');\n  useEffect(() => {\n    const user = localStorage.getItem('user');\n    if (!user) return;\n    const encryptedEntries = JSON.parse(localStorage.getItem(`${user}_entries`) || '[]');\n    const decryptedEntries = encryptedEntries.map(e => {\n      try {\n        const bytes = CryptoJS.AES.decrypt(e, 'secret-key');\n        return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\n      } catch {\n        return null;\n      }\n    }).filter(e => e);\n    setEntries(decryptedEntries);\n\n    // Process mood data\n    const moods = {};\n    decryptedEntries.forEach(entry => {\n      const date = new Date(entry.date).toDateString();\n      moods[date] = moods[date] || {\n        positive: 0,\n        negative: 0,\n        neutral: 0\n      };\n      moods[date][entry.sentiment]++;\n    });\n    setMoodData(moods);\n\n    // Generate summary\n    const totalEntries = decryptedEntries.length;\n    const avgSentiment = decryptedEntries.reduce((acc, e) => {\n      if (e.sentiment === 'positive') return acc + 1;\n      if (e.sentiment === 'negative') return acc - 1;\n      return acc;\n    }, 0) / totalEntries;\n    setSummary(`You have ${totalEntries} entries. Average mood: ${avgSentiment > 0 ? 'Positive' : avgSentiment < 0 ? 'Negative' : 'Neutral'}`);\n  }, []);\n  const moodChartData = {\n    labels: Object.keys(moodData),\n    datasets: [{\n      label: 'Positive',\n      data: Object.values(moodData).map(d => d.positive),\n      backgroundColor: 'rgba(75, 192, 192, 0.6)'\n    }, {\n      label: 'Negative',\n      data: Object.values(moodData).map(d => d.negative),\n      backgroundColor: 'rgba(255, 99, 132, 0.6)'\n    }, {\n      label: 'Neutral',\n      data: Object.values(moodData).map(d => d.neutral),\n      backgroundColor: 'rgba(255, 206, 86, 0.6)'\n    }]\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"insights-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Insights\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: summary\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Mood Trends\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Bar, {\n        data: moodChartData\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Recent Reflections\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), entries.slice(-5).map(entry => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [entry.text.substring(0, 100), \"...\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n          children: [new Date(entry.date).toLocaleDateString(), \" - \", entry.sentiment]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 13\n        }, this)]\n      }, entry.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n_s(Insights, \"mSlxo96g3ceqtELEiYzAkWLGYR4=\");\n_c = Insights;\nexport default Insights;\nvar _c;\n$RefreshReg$(_c, \"Insights\");","map":{"version":3,"names":["React","useState","useEffect","Bar","CryptoJS","jsxDEV","_jsxDEV","Insights","_s","entries","setEntries","moodData","setMoodData","summary","setSummary","user","localStorage","getItem","encryptedEntries","JSON","parse","decryptedEntries","map","e","bytes","AES","decrypt","toString","enc","Utf8","filter","moods","forEach","entry","date","Date","toDateString","positive","negative","neutral","sentiment","totalEntries","length","avgSentiment","reduce","acc","moodChartData","labels","Object","keys","datasets","label","data","values","d","backgroundColor","className","children","fileName","_jsxFileName","lineNumber","columnNumber","slice","text","substring","toLocaleDateString","id","_c","$RefreshReg$"],"sources":["D:/MindSync/src/pages/Insights.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { Bar } from 'react-chartjs-2';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst Insights = () => {\r\n  const [entries, setEntries] = useState([]);\r\n  const [moodData, setMoodData] = useState({});\r\n  const [summary, setSummary] = useState('');\r\n\r\n  useEffect(() => {\r\n    const user = localStorage.getItem('user');\r\n    if (!user) return;\r\n\r\n    const encryptedEntries = JSON.parse(localStorage.getItem(`${user}_entries`) || '[]');\r\n    const decryptedEntries = encryptedEntries.map(e => {\r\n      try {\r\n        const bytes = CryptoJS.AES.decrypt(e, 'secret-key');\r\n        return JSON.parse(bytes.toString(CryptoJS.enc.Utf8));\r\n      } catch {\r\n        return null;\r\n      }\r\n    }).filter(e => e);\r\n\r\n    setEntries(decryptedEntries);\r\n\r\n    // Process mood data\r\n    const moods = {};\r\n    decryptedEntries.forEach(entry => {\r\n      const date = new Date(entry.date).toDateString();\r\n      moods[date] = moods[date] || { positive: 0, negative: 0, neutral: 0 };\r\n      moods[date][entry.sentiment]++;\r\n    });\r\n    setMoodData(moods);\r\n\r\n    // Generate summary\r\n    const totalEntries = decryptedEntries.length;\r\n    const avgSentiment = decryptedEntries.reduce((acc, e) => {\r\n      if (e.sentiment === 'positive') return acc + 1;\r\n      if (e.sentiment === 'negative') return acc - 1;\r\n      return acc;\r\n    }, 0) / totalEntries;\r\n    setSummary(`You have ${totalEntries} entries. Average mood: ${avgSentiment > 0 ? 'Positive' : avgSentiment < 0 ? 'Negative' : 'Neutral'}`);\r\n  }, []);\r\n\r\n  const moodChartData = {\r\n    labels: Object.keys(moodData),\r\n    datasets: [\r\n      {\r\n        label: 'Positive',\r\n        data: Object.values(moodData).map(d => d.positive),\r\n        backgroundColor: 'rgba(75, 192, 192, 0.6)',\r\n      },\r\n      {\r\n        label: 'Negative',\r\n        data: Object.values(moodData).map(d => d.negative),\r\n        backgroundColor: 'rgba(255, 99, 132, 0.6)',\r\n      },\r\n      {\r\n        label: 'Neutral',\r\n        data: Object.values(moodData).map(d => d.neutral),\r\n        backgroundColor: 'rgba(255, 206, 86, 0.6)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <div className=\"insights-container\">\r\n      <h2>Insights</h2>\r\n      <p>{summary}</p>\r\n      <div>\r\n        <h3>Mood Trends</h3>\r\n        <Bar data={moodChartData} />\r\n      </div>\r\n      <div>\r\n        <h3>Recent Reflections</h3>\r\n        {entries.slice(-5).map(entry => (\r\n          <div key={entry.id}>\r\n            <p>{entry.text.substring(0, 100)}...</p>\r\n            <small>{new Date(entry.date).toLocaleDateString()} - {entry.sentiment}</small>\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Insights;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}