{"ast":null,"code":"import _objectSpread from\"D:/MindSync/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useMemo,useState}from'react';import{useNavigate,Link}from'react-router-dom';import CryptoJS from'crypto-js';import'./Signup.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Signup(){const navigate=useNavigate();const[form,setForm]=useState({username:'',password:'',confirm:''});const[error,setError]=useState('');const[showPwd,setShowPwd]=useState(false);const onChange=e=>setForm(_objectSpread(_objectSpread({},form),{},{[e.target.name]:e.target.value}));const strength=useMemo(()=>{const p=form.password||'';let score=0;if(p.length>=6)score+=1;if(p.length>=10)score+=1;if(/[A-Z]/.test(p))score+=1;if(/[0-9]/.test(p))score+=1;if(/[^A-Za-z0-9]/.test(p))score+=1;const pct=Math.min(100,score/5*100);const label=pct<40?'Weak':pct<70?'Medium':'Strong';return{pct,label};},[form.password]);const handleSignup=e=>{e.preventDefault();setError('');const username=form.username.trim();const password=form.password;const confirm=form.confirm;if(!username||!password||!confirm){setError('Please fill all fields.');return;}if(password.length<6){setError('Password should be at least 6 characters.');return;}if(password!==confirm){setError('Passwords do not match.');return;}const users=JSON.parse(localStorage.getItem('users')||'{}');if(users[username]){setError('Username already exists. Try logging in.');return;}const hash=CryptoJS.SHA256(username+':'+password).toString();users[username]={hash,createdAt:new Date().toISOString()};localStorage.setItem('users',JSON.stringify(users));// Auto-login\nlocalStorage.setItem('user',username);navigate('/journal');};return/*#__PURE__*/_jsxs(\"div\",{className:\"signup-page\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-orb orb1\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-orb orb2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"card fade-in\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"card-head\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Create your account\"}),/*#__PURE__*/_jsx(\"p\",{className:\"muted\",children:\"Start journaling with privacy-first storage.\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSignup,className:\"form\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Username\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"username\",placeholder:\"e.g. alex\",autoComplete:\"username\",value:form.username,onChange:onChange,required:true})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Password\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"password-wrap\",children:[/*#__PURE__*/_jsx(\"input\",{type:showPwd?'text':'password',name:\"password\",placeholder:\"\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\\u2022\",autoComplete:\"new-password\",value:form.password,onChange:onChange,required:true}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"eye\",onClick:()=>setShowPwd(s=>!s),\"aria-label\":\"Toggle password visibility\",children:showPwd?'üôà':'üëÅÔ∏è'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"strength\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bar\",style:{width:\"\".concat(strength.pct,\"%\")}}),/*#__PURE__*/_jsx(\"span\",{className:\"label \".concat(strength.label.toLowerCase()),children:strength.label})]})]}),/*#__PURE__*/_jsxs(\"label\",{className:\"field\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Confirm password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",name:\"confirm\",placeholder:\"Repeat password\",autoComplete:\"new-password\",value:form.confirm,onChange:onChange,required:true})]}),error&&/*#__PURE__*/_jsx(\"div\",{className:\"error\",children:error}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn-cta\",children:\"Create account\"})]}),/*#__PURE__*/_jsxs(\"p\",{className:\"foot\",children:[\"Already have an account? \",/*#__PURE__*/_jsx(Link,{to:\"/auth\",children:\"Log in\"})]})]})]});}","map":{"version":3,"names":["React","useMemo","useState","useNavigate","Link","CryptoJS","jsx","_jsx","jsxs","_jsxs","Signup","navigate","form","setForm","username","password","confirm","error","setError","showPwd","setShowPwd","onChange","e","_objectSpread","target","name","value","strength","p","score","length","test","pct","Math","min","label","handleSignup","preventDefault","trim","users","JSON","parse","localStorage","getItem","hash","SHA256","toString","createdAt","Date","toISOString","setItem","stringify","className","children","onSubmit","type","placeholder","autoComplete","required","onClick","s","style","width","concat","toLowerCase","to"],"sources":["D:/MindSync/src/pages/Signup.js"],"sourcesContent":["import React, { useMemo, useState } from 'react';\r\nimport { useNavigate, Link } from 'react-router-dom';\r\nimport CryptoJS from 'crypto-js';\r\nimport './Signup.css';\r\n\r\nexport default function Signup() {\r\n  const navigate = useNavigate();\r\n  const [form, setForm] = useState({ username: '', password: '', confirm: '' });\r\n  const [error, setError] = useState('');\r\n  const [showPwd, setShowPwd] = useState(false);\r\n\r\n  const onChange = (e) => setForm({ ...form, [e.target.name]: e.target.value });\r\n\r\n  const strength = useMemo(() => {\r\n    const p = form.password || '';\r\n    let score = 0;\r\n    if (p.length >= 6) score += 1;\r\n    if (p.length >= 10) score += 1;\r\n    if (/[A-Z]/.test(p)) score += 1;\r\n    if (/[0-9]/.test(p)) score += 1;\r\n    if (/[^A-Za-z0-9]/.test(p)) score += 1;\r\n    const pct = Math.min(100, (score / 5) * 100);\r\n    const label = pct < 40 ? 'Weak' : pct < 70 ? 'Medium' : 'Strong';\r\n    return { pct, label };\r\n  }, [form.password]);\r\n\r\n  const handleSignup = (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n\r\n    const username = form.username.trim();\r\n    const password = form.password;\r\n    const confirm = form.confirm;\r\n\r\n    if (!username || !password || !confirm) {\r\n      setError('Please fill all fields.');\r\n      return;\r\n    }\r\n    if (password.length < 6) {\r\n      setError('Password should be at least 6 characters.');\r\n      return;\r\n    }\r\n    if (password !== confirm) {\r\n      setError('Passwords do not match.');\r\n      return;\r\n    }\r\n\r\n    const users = JSON.parse(localStorage.getItem('users') || '{}');\r\n    if (users[username]) {\r\n      setError('Username already exists. Try logging in.');\r\n      return;\r\n    }\r\n\r\n    const hash = CryptoJS.SHA256(username + ':' + password).toString();\r\n    users[username] = { hash, createdAt: new Date().toISOString() };\r\n    localStorage.setItem('users', JSON.stringify(users));\r\n\r\n    // Auto-login\r\n    localStorage.setItem('user', username);\r\n    navigate('/journal');\r\n  };\r\n\r\n  return (\r\n    <div className=\"signup-page\">\r\n      <div className=\"bg-orb orb1\" />\r\n      <div className=\"bg-orb orb2\" />\r\n      <div className=\"card fade-in\">\r\n        <div className=\"card-head\">\r\n          <h2>Create your account</h2>\r\n          <p className=\"muted\">Start journaling with privacy-first storage.</p>\r\n        </div>\r\n        <form onSubmit={handleSignup} className=\"form\">\r\n          <label className=\"field\">\r\n            <span>Username</span>\r\n            <input\r\n              type=\"text\"\r\n              name=\"username\"\r\n              placeholder=\"e.g. alex\"\r\n              autoComplete=\"username\"\r\n              value={form.username}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n          </label>\r\n          <label className=\"field\">\r\n            <span>Password</span>\r\n            <div className=\"password-wrap\">\r\n              <input\r\n                type={showPwd ? 'text' : 'password'}\r\n                name=\"password\"\r\n                placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\r\n                autoComplete=\"new-password\"\r\n                value={form.password}\r\n                onChange={onChange}\r\n                required\r\n              />\r\n              <button type=\"button\" className=\"eye\" onClick={() => setShowPwd((s) => !s)} aria-label=\"Toggle password visibility\">\r\n                {showPwd ? 'üôà' : 'üëÅÔ∏è'}\r\n              </button>\r\n            </div>\r\n            <div className=\"strength\">\r\n              <div className=\"bar\" style={{ width: `${strength.pct}%` }} />\r\n              <span className={`label ${strength.label.toLowerCase()}`}>{strength.label}</span>\r\n            </div>\r\n          </label>\r\n          <label className=\"field\">\r\n            <span>Confirm password</span>\r\n            <input\r\n              type=\"password\"\r\n              name=\"confirm\"\r\n              placeholder=\"Repeat password\"\r\n              autoComplete=\"new-password\"\r\n              value={form.confirm}\r\n              onChange={onChange}\r\n              required\r\n            />\r\n          </label>\r\n          {error && <div className=\"error\">{error}</div>}\r\n          <button type=\"submit\" className=\"btn-cta\">Create account</button>\r\n        </form>\r\n        <p className=\"foot\">\r\n          Already have an account? <Link to=\"/auth\">Log in</Link>\r\n        </p>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}