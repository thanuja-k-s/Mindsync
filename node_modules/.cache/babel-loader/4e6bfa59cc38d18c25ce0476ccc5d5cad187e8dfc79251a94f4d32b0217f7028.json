{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import'./MemoTalks.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const API_URL=process.env.REACT_APP_API_URL||'http://localhost:5000';const MemoTalks=()=>{const[messages,setMessages]=useState([{id:1,sender:'memotalks',text:\"Hello! I'm MemoTalks, your personal AI companion. I have access to your journal entries and can answer questions about your life, goals, and feelings. What would you like to talk about?\"}]);const[input,setInput]=useState('');const[loading,setLoading]=useState(false);const[userEntries,setUserEntries]=useState([]);const apiKeyLocal=localStorage.getItem('memotalks_api_key')||'';const proxyUrlLocal=localStorage.getItem('memotalks_hf_proxy')||'';const hfKeyLocal=localStorage.getItem('memotalks_hf_key')||'';const[proxyUrl,setProxyUrl]=useState(proxyUrlLocal);const[hfKey,setHfKey]=useState(hfKeyLocal);const[showSettings,setShowSettings]=useState(false);const messagesEndRef=useRef(null);// Load all user journal entries on component mount\nuseEffect(()=>{loadUserEntries();},[]);const loadUserEntries=()=>{try{const entriesData=localStorage.getItem('entries');if(entriesData){const entries=JSON.parse(entriesData);setUserEntries(entries);console.log('Loaded entries:',entries);}}catch(error){console.error('Error loading entries:',error);}};const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);// Generate truly dynamic response using AI API\nconst generateAIResponse=async userQuestion=>{try{// Format user's journal entries as context\nconst entriesContext=userEntries.length>0?\"User's Journal Entries:\\n\".concat(userEntries.map((entry,idx)=>\"Entry \".concat(idx+1,\" (\").concat(new Date(entry.date).toLocaleDateString(),\"): \").concat(entry.text)).join('\\n\\n')):'No journal entries available yet.';// Try OpenAI API if key is available (client-stored - optional/risky)\nif(apiKeyLocal){return await generateWithOpenAI(userQuestion,entriesContext);}// Fallback: Use Hugging Face API (free, no key needed for inference)\nreturn await generateWithHuggingFace(userQuestion,entriesContext);}catch(error){console.error('Error generating response:',error);return generateFallbackResponse(userQuestion);}};// Settings handlers: save proxy URL and optional client HF key\nconst saveSettings=()=>{try{if(proxyUrl&&proxyUrl.length>0)localStorage.setItem('memotalks_hf_proxy',proxyUrl);else localStorage.removeItem('memotalks_hf_proxy');if(hfKey&&hfKey.length>0)localStorage.setItem('memotalks_hf_key',hfKey);else localStorage.removeItem('memotalks_hf_key');alert('MemoTalks settings saved.');setShowSettings(false);}catch(err){console.error('Error saving settings',err);alert('Unable to save settings. Check console for details.');}};const resetSettings=()=>{setProxyUrl('');setHfKey('');localStorage.removeItem('memotalks_hf_proxy');localStorage.removeItem('memotalks_hf_key');alert('MemoTalks settings reset to defaults.');setShowSettings(false);};// Generate response using OpenAI API\nconst generateWithOpenAI=async(userQuestion,entriesContext)=>{const response=await fetch('https://api.openai.com/v1/chat/completions',{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(apiKeyLocal)},body:JSON.stringify({model:'gpt-3.5-turbo',messages:[{role:'system',content:\"You are MemoTalks, a compassionate AI companion who has read the user's journal entries. Your role is to:\\n1. Answer questions based on the user's journal content and personal context\\n2. Provide personalized insights about their life, goals, and feelings\\n3. Be empathetic, supportive, and non-judgmental\\n4. Keep responses concise (2-3 sentences)\\n5. Use appropriate emojis\\n6. Reference their actual experiences when relevant\\n7. If asked something not in their journal, provide general supportive guidance based on their patterns\\n\\n\".concat(entriesContext)},{role:'user',content:userQuestion}],temperature:0.9,max_tokens:250})});if(!response.ok){throw new Error('OpenAI API Error');}const data=await response.json();return data.choices[0].message.content;};// Generate response using Hugging Face via local proxy (/api/hf)\nconst generateWithHuggingFace=async(userQuestion,entriesContext)=>{try{var _data$;// Build concise prompt, truncate entries if needed\nconst maxEntries=10;const entriesList=userEntries.slice(-maxEntries).map((entry,idx)=>\"Entry \".concat(userEntries.length-maxEntries+idx+1,\": \").concat(entry.text));const snippet=entriesList.join('\\n\\n');const prompt=\"You are MemoTalks, an empathetic AI companion who has read the user's journal. Use the journal context to answer the user's question concisely (2-3 sentences). Be supportive, non-judgmental, and reference the user's experiences when relevant.\\n\\nJournal Context:\\n\".concat(snippet,\"\\n\\nUser Question: \").concat(userQuestion,\"\\n\\nAnswer:\");// Determine endpoint: direct HF (client) if hfKey set, else proxyUrl or default backend\nlet endpoint=\"\".concat(API_URL,\"/api/hf\");const useDirect=hfKey&&hfKey.length>0;if(proxyUrl&&proxyUrl.length>0&&!useDirect){endpoint=proxyUrl.replace(/\\/+$/,'')+'/api/hf';}// If using direct client HF key, call HF inference endpoint directly\nif(useDirect){var _dataDirect$;const hfEndpoint='https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.1';const respDirect=await fetch(hfEndpoint,{method:'POST',headers:{'Content-Type':'application/json','Authorization':\"Bearer \".concat(hfKey)},body:JSON.stringify({inputs:prompt,parameters:{max_new_tokens:300,temperature:0.9}})});if(!respDirect.ok){const t=await respDirect.text();throw new Error(\"HF direct error: \".concat(respDirect.status,\" \").concat(t));}const dataDirect=await respDirect.json();let responseTextDirect='';if(Array.isArray(dataDirect)&&(_dataDirect$=dataDirect[0])!==null&&_dataDirect$!==void 0&&_dataDirect$.generated_text)responseTextDirect=dataDirect[0].generated_text;else if(dataDirect.generated_text)responseTextDirect=dataDirect.generated_text;else responseTextDirect=JSON.stringify(dataDirect);responseTextDirect=responseTextDirect.replace(prompt,'').trim();return responseTextDirect||\"I appreciate your question. Let's explore this together based on what you've shared. üíô\";}// Call local proxy which forwards to Hugging Face (keeps key server-side)\nconst resp=await fetch(endpoint,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({prompt,parameters:{max_new_tokens:300,temperature:0.9}})});if(!resp.ok){const text=await resp.text();throw new Error(\"Proxy Error: \".concat(resp.status,\" \").concat(text));}const data=await resp.json();// Extract generated text from common HF shapes\nlet responseText='';if(Array.isArray(data)&&(_data$=data[0])!==null&&_data$!==void 0&&_data$.generated_text)responseText=data[0].generated_text;else if(data.generated_text)responseText=data.generated_text;else if(data[0]&&data[0].generated_text)responseText=data[0].generated_text;else responseText=JSON.stringify(data);// Cleanup: remove echoed prompt if present\nresponseText=responseText.replace(prompt,'').trim();if(!responseText)responseText=\"I appreciate your question. Let's explore this together based on what you've shared. üíô\";return responseText;}catch(error){console.error('Hugging Face (proxy) Error:',error);throw error;}};// Fallback: Smart local response generator based on entries\nconst generateFallbackResponse=userQuestion=>{const lowerQuestion=userQuestion.toLowerCase();// Analyze emotional patterns from entries\nconst emotions={happy:userEntries.filter(e=>['happy','great','amazing','excited','proud','love'].some(w=>e.text.toLowerCase().includes(w))).length,sad:userEntries.filter(e=>['sad','down','depressed','lonely','struggle','difficult'].some(w=>e.text.toLowerCase().includes(w))).length,motivated:userEntries.filter(e=>['goal','achieve','progress','working','improve'].some(w=>e.text.toLowerCase().includes(w))).length,anxious:userEntries.filter(e=>['anxious','worried','stressed','nervous','uncertain'].some(w=>e.text.toLowerCase().includes(w))).length};// Build context-aware response\nconst responses=[];if(lowerQuestion.includes('entry')||lowerQuestion.includes('journal')||lowerQuestion.includes('what')){responses.push(\"I've reviewed your \".concat(userEntries.length,\" journal entries. I notice you've been experiencing a mix of emotions. What would you like to explore? \\uD83D\\uDCAD\"),\"Looking at your entries, I see themes of \".concat(emotions.motivated>0?'growth and goals':'reflection',\", mixed with moments of vulnerability. How are you feeling right now? \\uD83D\\uDC99\"),\"Your entries show someone who's actively reflecting on their life. What's the most important thing on your mind lately? \\uD83C\\uDF1F\");}if(lowerQuestion.includes('pattern')||lowerQuestion.includes('notice')||lowerQuestion.includes('see')){const topEmotion=Object.entries(emotions).reduce((a,b)=>a[1]>b[1]?a:b)[0];responses.push(\"I notice your entries often touch on \".concat(topEmotion,\" themes. That seems to be a significant part of your journey. Want to talk about it? \\uD83D\\uDCAD\"),\"From your entries, I see you're someone who reflects deeply. Your most recurring emotion seems to be \".concat(topEmotion,\". How's that affecting you now? \\uD83D\\uDC99\"),\"Your pattern shows thoughtfulness and self-awareness. You're navigating \".concat(emotions.motivated>0?'meaningful goals':'important life questions',\". What's your next step? \\uD83D\\uDE80\"));}if(lowerQuestion.includes('progress')||lowerQuestion.includes('how am i')){responses.push(\"Based on your entries, you've shown consistent reflection and growth. What progress are you most proud of? \\uD83D\\uDCAA\",\"I see growth in your entries from \".concat(userEntries.length>0?'your early reflections':'the start',\". What area do you want to focus on next? \\uD83C\\uDFAF\"),\"Your journey shows resilience. You're moving forward even when things are tough. How can I support you further? \\uD83D\\uDC99\");}if(lowerQuestion.includes('goal')||lowerQuestion.includes('future')||lowerQuestion.includes('next')){responses.push(\"From your entries, I understand your aspirations. What's the most exciting goal you want to work toward? \\uD83D\\uDE80\",\"Your entries reveal your dreams and values. What's one thing you want to achieve in the near future? \\uD83C\\uDFAF\",\"I see you're goal-oriented. What's blocking you from moving forward right now? \\uD83D\\uDCAA\");}if(lowerQuestion.includes('feel')||lowerQuestion.includes('emotion')){responses.push(\"Your entries show emotional depth. I notice \".concat(emotions.happy>emotions.sad?'more positive':'some challenging',\" moments. How are you genuinely feeling today? \\uD83D\\uDC99\"),\"Emotions are complex, and your entries reflect that beautifully. What are you feeling most right now? \\uD83C\\uDF1F\",\"I sense vulnerability and strength in your entries. What emotion is taking up the most space in your heart today? \\uD83D\\uDCAD\");}// Default responses if no keyword matches\nif(responses.length===0){responses.push(\"Based on everything you've shared in your journal, I'm here to help. What's really on your mind? \\uD83D\\uDC99\",\"Your entries give me insight into your world. Help me understand this question better - what are you really asking? \\uD83E\\uDD14\",\"I've been reading your story through your entries. What would you like to talk about right now? \\uD83D\\uDCAD\",\"Your journal reveals someone thoughtful and genuine. What would you like my perspective on? \\uD83C\\uDF1F\");}return responses[Math.floor(Math.random()*responses.length)];};const handleSend=async()=>{if(!input.trim())return;const userMessage={id:Date.now(),sender:'user',text:input};setMessages(prev=>[...prev,userMessage]);const userQuestion=input;setInput('');setLoading(true);// Simulate thinking delay\nsetTimeout(async()=>{try{const responseText=await generateAIResponse(userQuestion);const aiResponse={id:Date.now()+1,sender:'memotalks',text:responseText};setMessages(prev=>[...prev,aiResponse]);}catch(error){const errorResponse={id:Date.now()+1,sender:'memotalks',text:\"I'm having trouble connecting to my AI service right now, but I've read your journal entries. Based on what you've shared, I'm here to support you. What's on your mind? üíô\"};setMessages(prev=>[...prev,errorResponse]);}setLoading(false);},1000);};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSend();}};const quickPrompts=[{emoji:'üìñ',text:'Tell me about my entries',message:'Based on my journal entries, what patterns do you see in my life?'},{emoji:'üéØ',text:'How\\'s my progress?',message:'How am I progressing toward my goals based on my journal?'},{emoji:'üí≠',text:'What do you notice?',message:'What key themes or patterns do you notice in my journal entries?'},{emoji:'üí™',text:'Motivate me',message:'Based on my journal, what should I focus on next?'}];return/*#__PURE__*/_jsx(\"div\",{className:\"main-content\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"memotalks-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"memotalks-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"memotalks-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"memotalks-emoji\",children:\"\\uD83D\\uDCAD\"}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"MemoTalks\"}),/*#__PURE__*/_jsx(\"p\",{className:\"memotalks-subtitle\",children:\"Your Personal AI Journal Companion\"})]})]}),/*#__PURE__*/_jsx(\"p\",{className:\"memotalks-intro\",children:\"I've read all your journal entries and understand your journey. Ask me anything about your life, goals, feelings, or progress. Every response is personalized based on your actual experiences.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"memotalks-settings-toggle\",children:/*#__PURE__*/_jsx(\"button\",{className:\"settings-button\",onClick:()=>setShowSettings(!showSettings),children:\"\\u2699\\uFE0F Settings\"})}),showSettings&&/*#__PURE__*/_jsxs(\"div\",{className:\"memotalks-settings\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"settings-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"HF Proxy URL (recommended)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:proxyUrl,onChange:e=>setProxyUrl(e.target.value),placeholder:\"http://localhost:3002\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-row\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Direct Hugging Face API Key (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:hfKey,onChange:e=>setHfKey(e.target.value),placeholder:\"hf_xxx (only if you understand the risks)\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"settings-warning\",children:\"Security: Storing an API key in the browser exposes it to others. Use a server-side proxy when possible.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"settings-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"save-settings\",onClick:saveSettings,children:\"Save\"}),/*#__PURE__*/_jsx(\"button\",{className:\"reset-settings\",onClick:resetSettings,children:\"Reset\"})]})]}),userEntries.length>0&&/*#__PURE__*/_jsxs(\"p\",{className:\"memotalks-info\",children:[\"\\uD83D\\uDCDA Analyzing \",userEntries.length,\" journal entry(ies) for you...\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"messages-container\",children:[messages.length===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"quick-prompts\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"prompts-label\",children:\"Quick Start\"}),/*#__PURE__*/_jsx(\"div\",{className:\"prompts-grid\",children:quickPrompts.map((prompt,idx)=>/*#__PURE__*/_jsxs(\"button\",{className:\"prompt-button\",onClick:()=>{setInput(prompt.message);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"prompt-emoji\",children:prompt.emoji}),/*#__PURE__*/_jsx(\"span\",{className:\"prompt-text\",children:prompt.text})]},idx))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"messages\",children:[messages.map(msg=>/*#__PURE__*/_jsx(\"div\",{className:\"message \".concat(msg.sender),children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[msg.sender==='memotalks'&&/*#__PURE__*/_jsx(\"span\",{className:\"memotalks-icon\",children:\"\\uD83D\\uDCAD\"}),/*#__PURE__*/_jsx(\"p\",{children:msg.text})]})},msg.id)),loading&&/*#__PURE__*/_jsx(\"div\",{className:\"message memotalks\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"message-content\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"memotalks-icon\",children:\"\\uD83D\\uDCAD\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"typing-indicator\",children:[/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{}),/*#__PURE__*/_jsx(\"span\",{})]})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"input-wrapper\",children:[/*#__PURE__*/_jsx(\"textarea\",{value:input,onChange:e=>setInput(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask me anything about your journal, goals, feelings, or progress... (Press Enter to send, Shift+Enter for new line)\",className:\"message-input\",rows:\"3\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSend,disabled:!input.trim()||loading,className:\"send-button\",children:loading?'...':'‚úàÔ∏è'})]}),/*#__PURE__*/_jsx(\"p\",{className:\"input-hint\",children:\"\\uD83D\\uDCA1 I've read your journal entries. Ask about your patterns, progress, feelings, or get personalized insights based on your actual life experiences.\"})]})]})});};export default MemoTalks;","map":{"version":3,"names":["React","useState","useRef","useEffect","jsx","_jsx","jsxs","_jsxs","API_URL","process","env","REACT_APP_API_URL","MemoTalks","messages","setMessages","id","sender","text","input","setInput","loading","setLoading","userEntries","setUserEntries","apiKeyLocal","localStorage","getItem","proxyUrlLocal","hfKeyLocal","proxyUrl","setProxyUrl","hfKey","setHfKey","showSettings","setShowSettings","messagesEndRef","loadUserEntries","entriesData","entries","JSON","parse","console","log","error","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","generateAIResponse","userQuestion","entriesContext","length","concat","map","entry","idx","Date","date","toLocaleDateString","join","generateWithOpenAI","generateWithHuggingFace","generateFallbackResponse","saveSettings","setItem","removeItem","alert","err","resetSettings","response","fetch","method","headers","body","stringify","model","role","content","temperature","max_tokens","ok","Error","data","json","choices","message","_data$","maxEntries","entriesList","slice","snippet","prompt","endpoint","useDirect","replace","_dataDirect$","hfEndpoint","respDirect","inputs","parameters","max_new_tokens","t","status","dataDirect","responseTextDirect","Array","isArray","generated_text","trim","resp","responseText","lowerQuestion","toLowerCase","emotions","happy","filter","e","some","w","includes","sad","motivated","anxious","responses","push","topEmotion","Object","reduce","a","b","Math","floor","random","handleSend","userMessage","now","prev","setTimeout","aiResponse","errorResponse","handleKeyPress","key","shiftKey","preventDefault","quickPrompts","emoji","className","children","onClick","type","value","onChange","target","placeholder","msg","ref","onKeyPress","rows","disabled"],"sources":["D:/diaryAI/MindSync/src/pages/MemoTalks.js"],"sourcesContent":[" import React, { useState, useRef, useEffect } from 'react';\r\nimport './MemoTalks.css';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000';\r\n\r\nconst MemoTalks = () => {\r\n  const [messages, setMessages] = useState([\r\n    {\r\n      id: 1,\r\n      sender: 'memotalks',\r\n      text: \"Hello! I'm MemoTalks, your personal AI companion. I have access to your journal entries and can answer questions about your life, goals, and feelings. What would you like to talk about?\"\r\n    }\r\n  ]);\r\n  const [input, setInput] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n  const [userEntries, setUserEntries] = useState([]);\r\n  const apiKeyLocal = localStorage.getItem('memotalks_api_key') || '';\r\n  const proxyUrlLocal = localStorage.getItem('memotalks_hf_proxy') || '';\r\n  const hfKeyLocal = localStorage.getItem('memotalks_hf_key') || '';\r\n  const [proxyUrl, setProxyUrl] = useState(proxyUrlLocal);\r\n  const [hfKey, setHfKey] = useState(hfKeyLocal);\r\n  const [showSettings, setShowSettings] = useState(false);\r\n  const messagesEndRef = useRef(null);\r\n\r\n  // Load all user journal entries on component mount\r\n  useEffect(() => {\r\n    loadUserEntries();\r\n  }, []);\r\n\r\n  const loadUserEntries = () => {\r\n    try {\r\n      const entriesData = localStorage.getItem('entries');\r\n      if (entriesData) {\r\n        const entries = JSON.parse(entriesData);\r\n        setUserEntries(entries);\r\n        console.log('Loaded entries:', entries);\r\n      }\r\n    } catch (error) {\r\n      console.error('Error loading entries:', error);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  };\r\n\r\n  useEffect(() => {\r\n    scrollToBottom();\r\n  }, [messages]);\r\n\r\n  // Generate truly dynamic response using AI API\r\n  const generateAIResponse = async (userQuestion) => {\r\n    try {\r\n      // Format user's journal entries as context\r\n      const entriesContext = userEntries.length > 0 \r\n        ? `User's Journal Entries:\\n${userEntries.map((entry, idx) => \r\n            `Entry ${idx + 1} (${new Date(entry.date).toLocaleDateString()}): ${entry.text}`\r\n          ).join('\\n\\n')}`\r\n        : 'No journal entries available yet.';\r\n\r\n      // Try OpenAI API if key is available (client-stored - optional/risky)\r\n      if (apiKeyLocal) {\r\n        return await generateWithOpenAI(userQuestion, entriesContext);\r\n      }\r\n\r\n      // Fallback: Use Hugging Face API (free, no key needed for inference)\r\n      return await generateWithHuggingFace(userQuestion, entriesContext);\r\n    } catch (error) {\r\n      console.error('Error generating response:', error);\r\n      return generateFallbackResponse(userQuestion);\r\n    }\r\n  };\r\n\r\n  // Settings handlers: save proxy URL and optional client HF key\r\n  const saveSettings = () => {\r\n    try {\r\n      if (proxyUrl && proxyUrl.length > 0) localStorage.setItem('memotalks_hf_proxy', proxyUrl);\r\n      else localStorage.removeItem('memotalks_hf_proxy');\r\n\r\n      if (hfKey && hfKey.length > 0) localStorage.setItem('memotalks_hf_key', hfKey);\r\n      else localStorage.removeItem('memotalks_hf_key');\r\n\r\n      alert('MemoTalks settings saved.');\r\n      setShowSettings(false);\r\n    } catch (err) {\r\n      console.error('Error saving settings', err);\r\n      alert('Unable to save settings. Check console for details.');\r\n    }\r\n  };\r\n\r\n  const resetSettings = () => {\r\n    setProxyUrl('');\r\n    setHfKey('');\r\n    localStorage.removeItem('memotalks_hf_proxy');\r\n    localStorage.removeItem('memotalks_hf_key');\r\n    alert('MemoTalks settings reset to defaults.');\r\n    setShowSettings(false);\r\n  };\r\n\r\n  // Generate response using OpenAI API\r\n  const generateWithOpenAI = async (userQuestion, entriesContext) => {\r\n    const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        'Authorization': `Bearer ${apiKeyLocal}`\r\n      },\r\n      body: JSON.stringify({\r\n        model: 'gpt-3.5-turbo',\r\n        messages: [\r\n          {\r\n            role: 'system',\r\n            content: `You are MemoTalks, a compassionate AI companion who has read the user's journal entries. Your role is to:\r\n1. Answer questions based on the user's journal content and personal context\r\n2. Provide personalized insights about their life, goals, and feelings\r\n3. Be empathetic, supportive, and non-judgmental\r\n4. Keep responses concise (2-3 sentences)\r\n5. Use appropriate emojis\r\n6. Reference their actual experiences when relevant\r\n7. If asked something not in their journal, provide general supportive guidance based on their patterns\r\n\r\n${entriesContext}`\r\n          },\r\n          {\r\n            role: 'user',\r\n            content: userQuestion\r\n          }\r\n        ],\r\n        temperature: 0.9,\r\n        max_tokens: 250\r\n      })\r\n    });\r\n\r\n    if (!response.ok) {\r\n      throw new Error('OpenAI API Error');\r\n    }\r\n\r\n    const data = await response.json();\r\n    return data.choices[0].message.content;\r\n  };\r\n\r\n  // Generate response using Hugging Face via local proxy (/api/hf)\r\n  const generateWithHuggingFace = async (userQuestion, entriesContext) => {\r\n    try {\r\n      // Build concise prompt, truncate entries if needed\r\n      const maxEntries = 10;\r\n      const entriesList = userEntries.slice(-maxEntries).map((entry, idx) => `Entry ${userEntries.length - maxEntries + idx + 1}: ${entry.text}`);\r\n      const snippet = entriesList.join('\\n\\n');\r\n\r\n      const prompt = `You are MemoTalks, an empathetic AI companion who has read the user's journal. Use the journal context to answer the user's question concisely (2-3 sentences). Be supportive, non-judgmental, and reference the user's experiences when relevant.\\n\\nJournal Context:\\n${snippet}\\n\\nUser Question: ${userQuestion}\\n\\nAnswer:`;\r\n\r\n      // Determine endpoint: direct HF (client) if hfKey set, else proxyUrl or default backend\r\n      let endpoint = `${API_URL}/api/hf`;\r\n      const useDirect = hfKey && hfKey.length > 0;\r\n      if (proxyUrl && proxyUrl.length > 0 && !useDirect) {\r\n        endpoint = proxyUrl.replace(/\\/+$/, '') + '/api/hf';\r\n      }\r\n\r\n      // If using direct client HF key, call HF inference endpoint directly\r\n      if (useDirect) {\r\n        const hfEndpoint = 'https://api-inference.huggingface.co/models/mistralai/Mistral-7B-Instruct-v0.1';\r\n        const respDirect = await fetch(hfEndpoint, {\r\n          method: 'POST',\r\n          headers: { 'Content-Type': 'application/json', 'Authorization': `Bearer ${hfKey}` },\r\n          body: JSON.stringify({ inputs: prompt, parameters: { max_new_tokens: 300, temperature: 0.9 } })\r\n        });\r\n        if (!respDirect.ok) {\r\n          const t = await respDirect.text();\r\n          throw new Error(`HF direct error: ${respDirect.status} ${t}`);\r\n        }\r\n        const dataDirect = await respDirect.json();\r\n        let responseTextDirect = '';\r\n        if (Array.isArray(dataDirect) && dataDirect[0]?.generated_text) responseTextDirect = dataDirect[0].generated_text;\r\n        else if (dataDirect.generated_text) responseTextDirect = dataDirect.generated_text;\r\n        else responseTextDirect = JSON.stringify(dataDirect);\r\n        responseTextDirect = responseTextDirect.replace(prompt, '').trim();\r\n        return responseTextDirect || \"I appreciate your question. Let's explore this together based on what you've shared. üíô\";\r\n      }\r\n\r\n      // Call local proxy which forwards to Hugging Face (keeps key server-side)\r\n      const resp = await fetch(endpoint, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({ prompt, parameters: { max_new_tokens: 300, temperature: 0.9 } })\r\n      });\r\n\r\n      if (!resp.ok) {\r\n        const text = await resp.text();\r\n        throw new Error(`Proxy Error: ${resp.status} ${text}`);\r\n      }\r\n\r\n      const data = await resp.json();\r\n      // Extract generated text from common HF shapes\r\n      let responseText = '';\r\n      if (Array.isArray(data) && data[0]?.generated_text) responseText = data[0].generated_text;\r\n      else if (data.generated_text) responseText = data.generated_text;\r\n      else if (data[0] && data[0].generated_text) responseText = data[0].generated_text;\r\n      else responseText = JSON.stringify(data);\r\n\r\n      // Cleanup: remove echoed prompt if present\r\n      responseText = responseText.replace(prompt, '').trim();\r\n      if (!responseText) responseText = \"I appreciate your question. Let's explore this together based on what you've shared. üíô\";\r\n      return responseText;\r\n    } catch (error) {\r\n      console.error('Hugging Face (proxy) Error:', error);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Fallback: Smart local response generator based on entries\r\n  const generateFallbackResponse = (userQuestion) => {\r\n    const lowerQuestion = userQuestion.toLowerCase();\r\n    \r\n    // Analyze emotional patterns from entries\r\n    const emotions = {\r\n      happy: userEntries.filter(e => ['happy', 'great', 'amazing', 'excited', 'proud', 'love'].some(w => e.text.toLowerCase().includes(w))).length,\r\n      sad: userEntries.filter(e => ['sad', 'down', 'depressed', 'lonely', 'struggle', 'difficult'].some(w => e.text.toLowerCase().includes(w))).length,\r\n      motivated: userEntries.filter(e => ['goal', 'achieve', 'progress', 'working', 'improve'].some(w => e.text.toLowerCase().includes(w))).length,\r\n      anxious: userEntries.filter(e => ['anxious', 'worried', 'stressed', 'nervous', 'uncertain'].some(w => e.text.toLowerCase().includes(w))).length\r\n    };\r\n\r\n    // Build context-aware response\r\n    const responses = [];\r\n\r\n    if (lowerQuestion.includes('entry') || lowerQuestion.includes('journal') || lowerQuestion.includes('what')) {\r\n      responses.push(\r\n        `I've reviewed your ${userEntries.length} journal entries. I notice you've been experiencing a mix of emotions. What would you like to explore? üí≠`,\r\n        `Looking at your entries, I see themes of ${emotions.motivated > 0 ? 'growth and goals' : 'reflection'}, mixed with moments of vulnerability. How are you feeling right now? üíô`,\r\n        `Your entries show someone who's actively reflecting on their life. What's the most important thing on your mind lately? üåü`\r\n      );\r\n    }\r\n    \r\n    if (lowerQuestion.includes('pattern') || lowerQuestion.includes('notice') || lowerQuestion.includes('see')) {\r\n      const topEmotion = Object.entries(emotions).reduce((a, b) => a[1] > b[1] ? a : b)[0];\r\n      responses.push(\r\n        `I notice your entries often touch on ${topEmotion} themes. That seems to be a significant part of your journey. Want to talk about it? üí≠`,\r\n        `From your entries, I see you're someone who reflects deeply. Your most recurring emotion seems to be ${topEmotion}. How's that affecting you now? üíô`,\r\n        `Your pattern shows thoughtfulness and self-awareness. You're navigating ${emotions.motivated > 0 ? 'meaningful goals' : 'important life questions'}. What's your next step? üöÄ`\r\n      );\r\n    }\r\n\r\n    if (lowerQuestion.includes('progress') || lowerQuestion.includes('how am i')) {\r\n      responses.push(\r\n        `Based on your entries, you've shown consistent reflection and growth. What progress are you most proud of? üí™`,\r\n        `I see growth in your entries from ${userEntries.length > 0 ? 'your early reflections' : 'the start'}. What area do you want to focus on next? üéØ`,\r\n        `Your journey shows resilience. You're moving forward even when things are tough. How can I support you further? üíô`\r\n      );\r\n    }\r\n\r\n    if (lowerQuestion.includes('goal') || lowerQuestion.includes('future') || lowerQuestion.includes('next')) {\r\n      responses.push(\r\n        `From your entries, I understand your aspirations. What's the most exciting goal you want to work toward? üöÄ`,\r\n        `Your entries reveal your dreams and values. What's one thing you want to achieve in the near future? üéØ`,\r\n        `I see you're goal-oriented. What's blocking you from moving forward right now? üí™`\r\n      );\r\n    }\r\n\r\n    if (lowerQuestion.includes('feel') || lowerQuestion.includes('emotion')) {\r\n      responses.push(\r\n        `Your entries show emotional depth. I notice ${emotions.happy > emotions.sad ? 'more positive' : 'some challenging'} moments. How are you genuinely feeling today? üíô`,\r\n        `Emotions are complex, and your entries reflect that beautifully. What are you feeling most right now? üåü`,\r\n        `I sense vulnerability and strength in your entries. What emotion is taking up the most space in your heart today? üí≠`\r\n      );\r\n    }\r\n\r\n    // Default responses if no keyword matches\r\n    if (responses.length === 0) {\r\n      responses.push(\r\n        `Based on everything you've shared in your journal, I'm here to help. What's really on your mind? üíô`,\r\n        `Your entries give me insight into your world. Help me understand this question better - what are you really asking? ü§î`,\r\n        `I've been reading your story through your entries. What would you like to talk about right now? üí≠`,\r\n        `Your journal reveals someone thoughtful and genuine. What would you like my perspective on? üåü`\r\n      );\r\n    }\r\n\r\n    return responses[Math.floor(Math.random() * responses.length)];\r\n  };\r\n\r\n  const handleSend = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    const userMessage = {\r\n      id: Date.now(),\r\n      sender: 'user',\r\n      text: input\r\n    };\r\n\r\n    setMessages(prev => [...prev, userMessage]);\r\n    const userQuestion = input;\r\n    setInput('');\r\n    setLoading(true);\r\n\r\n    // Simulate thinking delay\r\n    setTimeout(async () => {\r\n      try {\r\n        const responseText = await generateAIResponse(userQuestion);\r\n        const aiResponse = {\r\n          id: Date.now() + 1,\r\n          sender: 'memotalks',\r\n          text: responseText\r\n        };\r\n        setMessages(prev => [...prev, aiResponse]);\r\n      } catch (error) {\r\n        const errorResponse = {\r\n          id: Date.now() + 1,\r\n          sender: 'memotalks',\r\n          text: \"I'm having trouble connecting to my AI service right now, but I've read your journal entries. Based on what you've shared, I'm here to support you. What's on your mind? üíô\"\r\n        };\r\n        setMessages(prev => [...prev, errorResponse]);\r\n      }\r\n      setLoading(false);\r\n    }, 1000);\r\n  };\r\n\r\n  const handleKeyPress = (e) => {\r\n    if (e.key === 'Enter' && !e.shiftKey) {\r\n      e.preventDefault();\r\n      handleSend();\r\n    }\r\n  };\r\n\r\n  const quickPrompts = [\r\n    { emoji: 'üìñ', text: 'Tell me about my entries', message: 'Based on my journal entries, what patterns do you see in my life?' },\r\n    { emoji: 'üéØ', text: 'How\\'s my progress?', message: 'How am I progressing toward my goals based on my journal?' },\r\n    { emoji: 'üí≠', text: 'What do you notice?', message: 'What key themes or patterns do you notice in my journal entries?' },\r\n    { emoji: 'üí™', text: 'Motivate me', message: 'Based on my journal, what should I focus on next?' }\r\n  ];\r\n\r\n  return (\r\n    <div className=\"main-content\">\r\n      <div className=\"memotalks-container\">\r\n        <div className=\"memotalks-header\">\r\n          <div className=\"memotalks-title\">\r\n            <span className=\"memotalks-emoji\">üí≠</span>\r\n            <div>\r\n              <h1>MemoTalks</h1>\r\n              <p className=\"memotalks-subtitle\">Your Personal AI Journal Companion</p>\r\n            </div>\r\n          </div>\r\n          <p className=\"memotalks-intro\">I've read all your journal entries and understand your journey. Ask me anything about your life, goals, feelings, or progress. Every response is personalized based on your actual experiences.</p>\r\n          <div className=\"memotalks-settings-toggle\">\r\n            <button className=\"settings-button\" onClick={() => setShowSettings(!showSettings)}>\r\n              ‚öôÔ∏è Settings\r\n            </button>\r\n          </div>\r\n          {showSettings && (\r\n            <div className=\"memotalks-settings\">\r\n              <div className=\"settings-row\">\r\n                <label>HF Proxy URL (recommended)</label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={proxyUrl}\r\n                  onChange={(e) => setProxyUrl(e.target.value)}\r\n                  placeholder=\"http://localhost:3002\"\r\n                />\r\n              </div>\r\n              <div className=\"settings-row\">\r\n                <label>Direct Hugging Face API Key (optional)</label>\r\n                <input\r\n                  type=\"password\"\r\n                  value={hfKey}\r\n                  onChange={(e) => setHfKey(e.target.value)}\r\n                  placeholder=\"hf_xxx (only if you understand the risks)\"\r\n                />\r\n              </div>\r\n              <p className=\"settings-warning\">Security: Storing an API key in the browser exposes it to others. Use a server-side proxy when possible.</p>\r\n              <div className=\"settings-actions\">\r\n                <button className=\"save-settings\" onClick={saveSettings}>Save</button>\r\n                <button className=\"reset-settings\" onClick={resetSettings}>Reset</button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          {userEntries.length > 0 && (\r\n            <p className=\"memotalks-info\">üìö Analyzing {userEntries.length} journal entry(ies) for you...</p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"messages-container\">\r\n          {messages.length === 1 && (\r\n            <div className=\"quick-prompts\">\r\n              <p className=\"prompts-label\">Quick Start</p>\r\n              <div className=\"prompts-grid\">\r\n                {quickPrompts.map((prompt, idx) => (\r\n                  <button\r\n                    key={idx}\r\n                    className=\"prompt-button\"\r\n                    onClick={() => {\r\n                      setInput(prompt.message);\r\n                    }}\r\n                  >\r\n                    <span className=\"prompt-emoji\">{prompt.emoji}</span>\r\n                    <span className=\"prompt-text\">{prompt.text}</span>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n          \r\n          <div className=\"messages\">\r\n            {messages.map((msg) => (\r\n              <div key={msg.id} className={`message ${msg.sender}`}>\r\n                <div className=\"message-content\">\r\n                  {msg.sender === 'memotalks' && <span className=\"memotalks-icon\">üí≠</span>}\r\n                  <p>{msg.text}</p>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {loading && (\r\n              <div className=\"message memotalks\">\r\n                <div className=\"message-content\">\r\n                  <span className=\"memotalks-icon\">üí≠</span>\r\n                  <div className=\"typing-indicator\">\r\n                    <span></span>\r\n                    <span></span>\r\n                    <span></span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n            <div ref={messagesEndRef} />\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"input-container\">\r\n          <div className=\"input-wrapper\">\r\n            <textarea\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyPress={handleKeyPress}\r\n              placeholder=\"Ask me anything about your journal, goals, feelings, or progress... (Press Enter to send, Shift+Enter for new line)\"\r\n              className=\"message-input\"\r\n              rows=\"3\"\r\n            />\r\n            <button\r\n              onClick={handleSend}\r\n              disabled={!input.trim() || loading}\r\n              className=\"send-button\"\r\n            >\r\n              {loading ? '...' : '‚úàÔ∏è'}\r\n            </button>\r\n          </div>\r\n          <p className=\"input-hint\">üí° I've read your journal entries. Ask about your patterns, progress, feelings, or get personalized insights based on your actual life experiences.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MemoTalks;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}