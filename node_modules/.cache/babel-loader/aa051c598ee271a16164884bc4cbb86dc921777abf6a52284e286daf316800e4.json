{"ast":null,"code":"import _objectSpread from\"D:/MindSync/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from'react';import'./Goals.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Goals(){const[goals,setGoals]=useState([]);const[newGoal,setNewGoal]=useState('');const user=localStorage.getItem('user');useEffect(()=>{if(!user)return;const goalsKey=\"\".concat(user,\"_goals\");const savedGoals=localStorage.getItem(goalsKey);if(savedGoals){const parsedGoals=JSON.parse(savedGoals);const updatedGoals=parsedGoals.map(goal=>_objectSpread(_objectSpread({},goal),{},{lastCompleted:goal.lastCompleted||null}));setGoals(updatedGoals);localStorage.setItem(goalsKey,JSON.stringify(updatedGoals));}},[user]);const addGoal=()=>{if(newGoal.trim()){const goal={id:Date.now(),text:newGoal,progress:0,streak:0,lastCompleted:null,createdAt:new Date().toISOString()};const updatedGoals=[...goals,goal];setGoals(updatedGoals);const goalsKey=\"\".concat(user,\"_goals\");localStorage.setItem(goalsKey,JSON.stringify(updatedGoals));setNewGoal('');}};const updateProgress=(id,progress)=>{const updatedGoals=goals.map(goal=>{if(goal.id===id){const newProgress=Math.min(100,Math.max(0,progress));const today=new Date().toDateString();let newStreak=goal.streak;let newLastCompleted=goal.lastCompleted;if(newProgress>0){if(!goal.lastCompleted||new Date(goal.lastCompleted).toDateString()!==today){// New day\nconst yesterday=new Date();yesterday.setDate(yesterday.getDate()-1);const yesterdayStr=yesterday.toDateString();if(goal.lastCompleted===yesterdayStr){newStreak=goal.streak+1;}else{newStreak=1;}newLastCompleted=today;}// If same day, keep streak as is\n}return _objectSpread(_objectSpread({},goal),{},{progress:newProgress,streak:newStreak,lastCompleted:newLastCompleted});}return goal;});setGoals(updatedGoals);const goalsKey=\"\".concat(user,\"_goals\");localStorage.setItem(goalsKey,JSON.stringify(updatedGoals));};return/*#__PURE__*/_jsxs(\"div\",{className:\"goals-container\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Goals & Habits\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"goals-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Goals\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"add-goal\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:newGoal,onChange:e=>setNewGoal(e.target.value),placeholder:\"Enter a new goal...\"}),/*#__PURE__*/_jsx(\"button\",{onClick:addGoal,children:\"Add Goal\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"goals-list\",children:goals.map(goal=>/*#__PURE__*/_jsxs(\"div\",{className:\"goal-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:goal.text}),/*#__PURE__*/_jsx(\"div\",{className:\"progress-bar\",children:/*#__PURE__*/_jsx(\"div\",{className:\"progress-fill\",style:{width:\"\".concat(goal.progress,\"%\")}})}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:\"0\",max:\"100\",value:goal.progress,onChange:e=>updateProgress(goal.id,parseInt(e.target.value)),placeholder:\"Progress %\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Streak: \",goal.streak,\" days\"]})]},goal.id))})]})]});}export default Goals;","map":{"version":3,"names":["React","useState","useEffect","jsx","_jsx","jsxs","_jsxs","Goals","goals","setGoals","newGoal","setNewGoal","user","localStorage","getItem","goalsKey","concat","savedGoals","parsedGoals","JSON","parse","updatedGoals","map","goal","_objectSpread","lastCompleted","setItem","stringify","addGoal","trim","id","Date","now","text","progress","streak","createdAt","toISOString","updateProgress","newProgress","Math","min","max","today","toDateString","newStreak","newLastCompleted","yesterday","setDate","getDate","yesterdayStr","className","children","type","value","onChange","e","target","placeholder","onClick","style","width","parseInt"],"sources":["D:/MindSync/src/pages/Goals.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport './Goals.css';\r\n\r\nfunction Goals() {\r\n  const [goals, setGoals] = useState([]);\r\n  const [newGoal, setNewGoal] = useState('');\r\n  const user = localStorage.getItem('user');\r\n\r\n  useEffect(() => {\r\n    if (!user) return;\r\n    \r\n    const goalsKey = `${user}_goals`;\r\n    \r\n    const savedGoals = localStorage.getItem(goalsKey);\r\n    \r\n    if (savedGoals) {\r\n      const parsedGoals = JSON.parse(savedGoals);\r\n      const updatedGoals = parsedGoals.map(goal => ({\r\n        ...goal,\r\n        lastCompleted: goal.lastCompleted || null\r\n      }));\r\n      setGoals(updatedGoals);\r\n      localStorage.setItem(goalsKey, JSON.stringify(updatedGoals));\r\n    }\r\n  }, [user]);\r\n\r\n  const addGoal = () => {\r\n    if (newGoal.trim()) {\r\n      const goal = {\r\n        id: Date.now(),\r\n        text: newGoal,\r\n        progress: 0,\r\n        streak: 0,\r\n        lastCompleted: null,\r\n        createdAt: new Date().toISOString()\r\n      };\r\n      const updatedGoals = [...goals, goal];\r\n      setGoals(updatedGoals);\r\n      const goalsKey = `${user}_goals`;\r\n      localStorage.setItem(goalsKey, JSON.stringify(updatedGoals));\r\n      setNewGoal('');\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const updateProgress = (id, progress) => {\r\n    const updatedGoals = goals.map(goal => {\r\n      if (goal.id === id) {\r\n        const newProgress = Math.min(100, Math.max(0, progress));\r\n        const today = new Date().toDateString();\r\n        let newStreak = goal.streak;\r\n        let newLastCompleted = goal.lastCompleted;\r\n\r\n        if (newProgress > 0) {\r\n          if (!goal.lastCompleted || new Date(goal.lastCompleted).toDateString() !== today) {\r\n            // New day\r\n            const yesterday = new Date();\r\n            yesterday.setDate(yesterday.getDate() - 1);\r\n            const yesterdayStr = yesterday.toDateString();\r\n\r\n            if (goal.lastCompleted === yesterdayStr) {\r\n              newStreak = goal.streak + 1;\r\n            } else {\r\n              newStreak = 1;\r\n            }\r\n            newLastCompleted = today;\r\n          }\r\n          // If same day, keep streak as is\r\n        }\r\n\r\n        return { ...goal, progress: newProgress, streak: newStreak, lastCompleted: newLastCompleted };\r\n      }\r\n      return goal;\r\n    });\r\n    setGoals(updatedGoals);\r\n    const goalsKey = `${user}_goals`;\r\n    localStorage.setItem(goalsKey, JSON.stringify(updatedGoals));\r\n  };\r\n\r\n\r\n\r\n  return (\r\n    <div className=\"goals-container\">\r\n      <h1>Goals & Habits</h1>\r\n\r\n      <div className=\"goals-section\">\r\n        <h2>Your Goals</h2>\r\n        <div className=\"add-goal\">\r\n          <input\r\n            type=\"text\"\r\n            value={newGoal}\r\n            onChange={(e) => setNewGoal(e.target.value)}\r\n            placeholder=\"Enter a new goal...\"\r\n          />\r\n          <button onClick={addGoal}>Add Goal</button>\r\n        </div>\r\n\r\n        <div className=\"goals-list\">\r\n          {goals.map(goal => (\r\n            <div key={goal.id} className=\"goal-item\">\r\n              <h3>{goal.text}</h3>\r\n              <div className=\"progress-bar\">\r\n                <div\r\n                  className=\"progress-fill\"\r\n                  style={{ width: `${goal.progress}%` }}\r\n                ></div>\r\n              </div>\r\n              <input\r\n                type=\"number\"\r\n                min=\"0\"\r\n                max=\"100\"\r\n                value={goal.progress}\r\n                onChange={(e) => updateProgress(goal.id, parseInt(e.target.value))}\r\n                placeholder=\"Progress %\"\r\n              />\r\n              <p>Streak: {goal.streak} days</p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Goals;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}